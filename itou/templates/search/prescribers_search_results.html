{% extends "layout/base.html" %}
{% load static %}

{% block title %}
    {% include "search/includes/prescribers_search_title.html" with city=city distance=distance only %}
    {{ block.super }}
{% endblock %}

{% block script %}
    {{ block.super }}
    <script src='{% static "js/htmx_compat.js" %}'></script>
    <script src='{% static "js/htmx_dropdown_filter.js" %}'></script>
{% endblock %}

{% block title_prevstep %}
    {% include "layout/previous_step.html" with back_url=back_url only %}
{% endblock %}

{% block title_content %}<h1>Rechercher des prescripteurs habilit√©s</h1>{% endblock %}

{% block content %}
    <form class="d-block w-100"
          hx-get="{% url 'search:prescribers_results' %}"
          hx-trigger="change delay:.5s"
          hx-indicator="#prescribers-search-results"
          hx-target="#prescribers-search-results"
          hx-swap="outerHTML"
          hx-push-url="true">
        <section class="s-section mb-0">
            <div class="s-section__container container">
                <div class="s-section__row row">
                    <div class="col-12">
                        {% include "search/includes/prescribers_search_form.html" with form=form is_home=False only %}
                        <h2 class="my-3 my-md-4">Prescripteurs</h2>
                        <div class="btn-dropdown-filter-group my-3 my-md-4">
                            {% include "includes/btn_dropdown_filter/radio.html" with field=form.distance only %}
                        </div>
                        {% include "search/includes/prescribers_search_summary.html" %}
                    </div>
                </div>
                <div class="s-section__row row">
                    <div class="col-12">{% include "search/includes/prescribers_search_results.html" %}</div>
                </div>
            </div>
        </section>
    </form>
{% endblock %}
