{# django-allauth template override. #}
{% extends BASE_TEMPLATE %}

{% load bootstrap4 %}

{% block title %}Modifier votre mot de passe {{ block.super }}{% endblock %}

{% block content_title %}<h1 class="s-title-01__title h1">Modifier votre mot de passe</h1>{% endblock %}

{% block content %}
    <section class="s-section">
        <div class="s-section__container container">
            <div class="row">
                <div class="col-12 col-lg-8">
                    {% if user.has_sso_provider %}
                        <div class="alert alert-info">
                            <p class="mb-0">
                                Vous ne pouvez pas changer votre mot de passe car vous avez créé votre compte avec {{ user.get_identity_provider_display }}.
                            </p>
                        </div>
                    {% else %}
                        <form method="post" action="{% url 'account_change_password' %}" class="js-prevent-multiple-submit">

                            {% csrf_token %}

                            {% bootstrap_form form alert_error_type="all" %}

                            {% buttons %}
                                <a class="btn btn-outline-primary" href="{% url 'dashboard:index' %}">Annuler</a>
                                <button type="submit" class="btn btn-primary">Modifier le mot de passe</button>
                            {% endbuttons %}

                        </form>
                    {% endif %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}
