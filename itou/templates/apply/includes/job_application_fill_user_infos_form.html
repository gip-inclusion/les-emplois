{% load django_bootstrap5 %}
{% load theme_inclusion %}

<h2>Candidat</h2>

{% if form_personal_data %}
    {% if form_personal_data.nir_error %}{{ form_personal_data.nir_error|safe }}{% endif %}
    {% if form_personal_data.pole_emploi_id_error %}{{ form_personal_data.pole_emploi_id_error }}{% endif %}

    {% include "includes/job_seekers/readonly_form.html" with form=form_personal_data request=request only %}
    {% bootstrap_form_errors form_personal_data type='non_fields' %}
    {% if form_personal_data.nir %}
        {% bootstrap_field form_personal_data.nir wrapper_class="form-group form-group-input-w-lg-66" %}
        {% collapse_field form_personal_data.lack_of_nir target_id="collapse_lack_of_nir_reason" %}
        <div id="collapse_lack_of_nir_reason" class="ps-3 pb-1 mb-3 border-start border-primary collapse{% if form_personal_data.lack_of_nir.value %} show{% endif %}">
            {% bootstrap_field form_personal_data.lack_of_nir_reason %}
        </div>
    {% endif %}
    {% if form_personal_data.pole_emploi_id %}
        {% bootstrap_field form_personal_data.pole_emploi_id wrapper_class="form-group form-group-input-w-lg-66" %}
        {% bootstrap_field form_personal_data.lack_of_pole_emploi_id_reason %}
    {% endif %}
{% endif %}

{% if form_birth_data %}
    {% bootstrap_form_errors form_birth_data type='non_fields' %}
    {% if form_birth_data.birthdate %}
        {% bootstrap_field form_birth_data.birthdate wrapper_class="form-group form-group-input-w-lg-33" %}
    {% endif %}
    {% if form_birth_data.birth_country %}
        {% bootstrap_field form_birth_data.birth_place %}
        {% bootstrap_field form_birth_data.birth_country %}
    {% endif %}
{% endif %}

{% if form_user_address %}
    {% bootstrap_field form_user_address.address_for_autocomplete %}
    {% bootstrap_field form_user_address.address_line_1 %}
    {% bootstrap_field form_user_address.address_line_2 %}
    {% bootstrap_field form_user_address.post_code wrapper_class="form-group form-group-input-w-lg-33" %}
    {% bootstrap_field form_user_address.city %}

    {% bootstrap_field form_user_address.insee_code %}
    {% bootstrap_field form_user_address.ban_api_resolved_address %}
    {% bootstrap_field form_user_address.fill_mode %}
{% endif %}
