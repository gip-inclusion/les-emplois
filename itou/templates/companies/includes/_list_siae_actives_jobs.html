{% load str_filters %}
{% comment %} takes 1 argument: jobs_descriptions=<List of JobDescription> {% endcomment %}

<p class="fs-sm text-secondary">
    <b>{{ jobs_descriptions|length }} recrutement{{ jobs_descriptions|pluralizefr }} en cours</b>
</p>

<ul class="list-group list-group-flush">
    {% for job in jobs_descriptions|slice:":5" %}
        {% include "companies/includes/_list_siae_actives_jobs_row.html" with job=job %}
    {% endfor %}
</ul>
{% if jobs_descriptions|length > 5 %}
    <ul class="list-group list-group-flush collapse" id="collapse_{{ forloop.counter0 }}">
        {% for job in jobs_descriptions|slice:"5:" %}
            {% include "companies/includes/_list_siae_actives_jobs_row.html" with job=job is_appended=forloop.first %}
        {% endfor %}
    </ul>
    <div class="mt-3 text-center">
        <button type="button"
                class="btn collapsed has-collapse-caret p-0"
                data-bs-toggle="collapse"
                data-bs-target="#collapse_{{ forloop.counter0 }}"
                aria-expanded="false"
                aria-controls="collapse_{{ forloop.counter0 }}">
            <span>Afficher tout</span>
        </button>
    </div>
{% endif %}
