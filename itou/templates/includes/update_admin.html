{% load buttons_form %}

<div class="c-form">
    {% with request.from_employer|yesno:"structure,organisation" as org_display %}
        {% if action == "remove" %}
            <div class="alert alert-warning">
                Vous allez retirer les droits d'administrateur de votre {{ org_display }} <b>{{ structure.display_name }}</b> à <b>{{ target_member.get_inverted_full_name }}</b>
            </div>
        {% else %}
            <div class="alert alert-warning">
                Vous allez ajouter les droits d'administrateur de votre {{ org_display }} <b>{{ structure.display_name }}</b> à <b>{{ target_member.get_inverted_full_name }}</b>
            </div>
        {% endif %}

        <ul>
            <li>Le role d'administrateur permet d'ajouter ou de retirer des utilisateurs de votre {{ org_display }}.</li>
            <li>Il permet également d'ajouter ou de retirer de nouveaux administrateurs.</li>
            <li>Cet utilisateur sera notifié par e-mail de la modification de son rôle.</li>
        </ul>

        <form action="{% url base_url|add:":update_admin_role" action target_member.public_id %}" method="post">
            {% url base_url|add:":members" as reset_url %}
            {% csrf_token %}
            {% if action == "remove" %}
                {% itou_buttons_form show_mandatory_fields_mention=False primary_label="Retirer les droits administrateur" reset_url=reset_url %}
            {% else %}
                {% itou_buttons_form show_mandatory_fields_mention=False primary_label="Ajouter les droits administrateur" reset_url=reset_url %}
            {% endif %}
        </form>
    {% endwith %}
</div>
